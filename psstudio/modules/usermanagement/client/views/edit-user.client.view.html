<h3 id="headcolor">Edit User
    <ul class="breadcrumb">
        <li><a ui-sref="app.user-view">Users</a>
        </li>
        <li ng-repeat="state in $state.$current.path" ng-switch="$last" ng-if="!state.abstract" ng-class="{active: $last}"><a
                ng-switch-when="false" href="#{{state.url.format($stateParams)}}">{{state.title}}</a>
            <span ng-switch-when="true" class="textcol">{{state.title}}</span>
        </li>
    </ul>
</h3>

<section ng-controller="UsersController as controller">
    <div class="col-md-8">
        <form name="userForm" data-ng-submit="update(userForm.$valid)" class="form-validate form-horizontal"
            autocomplete="off" ng-init="findUser()">
            <div class="panel panel-default">
                <div class="panel panel-body ">
                    <legend>Edit details</legend>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label>User Type</label>
                            <select id="userType" name="userType" class="chosen-select form-control" ng-required="true"
                                data-ng-model="user.roles" chosen="" multiple="multiple">
                                <option value="">
                                    <!-- <option value="sudo">Super Admin</option> -->
                                <option value="admin">Admin</option>
                                <option value="user">User</option>
                                </option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" reuired="" maxlength="50" id="firstName" name="firstName" class="form-control"
                                ng-required="true" data-ng-model="user.firstName" placeholder="First Name" />
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" maxlength="50" id="lastName" name="lastName" class="form-control"
                                ng-required="true" data-ng-model="user.lastName" placeholder="Last Name" />
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" maxlength="100" id="email" name="email" class="form-control"
                                ng-required="true" ng-pattern="/.+\@.+\..+/" data-ng-model="user.email" placeholder="Email" />
                            <span ng-show="form.validateInput('credentials.email', 'pattern')" class="text-danger">
                                Please enter valid email Id</span>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class=" mt">
                        <button type="submit" class="btn btn-large btn-primary">Update</button>
                    </div>
                    <div data-ng-show="success" class="text-success">
                        <strong>Profile Updated Successfully</strong>
                    </div>
                    <div data-ng-show="error" class="text-danger">
                        <strong data-ng-bind="error"></strong>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-4">
        <a ng-click="showResetOption = !showResetOption"><i class="fa fa-key" aria-hidden="true"></i>Reset Password</a>
        <div ng-if="showResetOption">
            <!-- <h3 class="col-md-12 text-center">Reset your password</h3> -->
            <div class="col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-6">
                <form name="resetPasswordForm" ng-submit="resetUserPassword(resetPasswordForm.$valid)" class="signin form-horizontal"
                    novalidate autocomplete="off">
                    <fieldset>
                        <div class="form-group" show-errors>
                            <label for="userName">Username</label>
                            <input type="text" id="userName" name="userName" class="form-control" ng-model="passwordDetails.userName"
                                placeholder="Username" required>
                            <div ng-messages="resetPasswordForm.userName.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Enter username</p>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" name="newPassword" class="form-control" ng-model="passwordDetails.newPassword"
                                placeholder="New Password" autocomplete="new-password" popover="{{popoverMsg}}"
                                popover-trigger="focus" popover-placement="top" password-validator required>
                            <div ng-messages="resetPasswordForm.newPassword.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Enter a new password.</p>
                                <div ng-repeat="passwordError in passwordErrors">
                                    <p class="help-block error-text" ng-show="resetPasswordForm.newPassword.$error.requirements">{{passwordError}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label for="verifyPassword">Verify Password</label>
                            <input type="password" id="verifyPassword" name="verifyPassword" class="form-control"
                                ng-model="passwordDetails.verifyPassword" placeholder="Verify Password" password-verify="passwordDetails.newPassword"
                                required>
                            <div ng-messages="resetPasswordForm.verifyPassword.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Enter the password again to
                                    verify.</p>
                                <p class="help-block error-text" ng-show=resetPasswordForm.verifyPassword.$error.passwordVerify>Passwords
                                    do not match.</p>
                            </div>
                        </div>
                        <div class="form-group" ng-show="!resetPasswordForm.newPassword.$error.required">
                            <label>Password Requirements</label>
                            <progressbar value="requirementsProgress" type="{{requirementsColor}}"><span style="color:white; white-space:nowrap;">{{requirementsProgress}}%</span></progressbar>
                        </div>
                        <div class="text-center form-group">
                            <button type="submit" class="btn btn-primary">Update Password</button>
                        </div>
                        <div ng-show="errorpc" class="text-center text-danger">
                            <strong ng-bind="errorpc"></strong>
                        </div>
                        <div ng-show="successpc" class="text-center text-success">
                            <strong ng-bind="successpc"></strong>
                        </div>
                    </fieldset>
                </form>
            </div>
</section>
</div>
</div>
</section>
