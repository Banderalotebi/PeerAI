var a12_0x1558=["mongoose","./logger","./config/config","model","update","user","body","roles","updated","now","displayName","firstName","lastName","save","status","send","getErrorMessage","login","json","User\x20is\x20not\x20signed\x20in","updateLayoutPreferences","layout","error","Unable\x20to\x20save\x20user\x20layout\x20preferences","User\x20preferences\x20saved","sendStatus","changeProfilePicture","profileUpload","single","newProfilePicture","./config/lib/multer","fileFilter","Error\x20occurred\x20while\x20uploading\x20profile\x20picture","profileImageURL","uploads","file","filename","createIfNotExist","count","exec","Unable\x20to\x20get\x20user\x20Count","info","admin","Super","admin@winjit.com","local","Super\x20Admin","Dashboard\x201","Dashboard\x202","Unable\x20to\x20save\x20Default\x20user","Default\x20User\x20Created","lodash","resolve","./modules/core/server/controllers/errors.server.controller"];(function(_0x342ee5,_0x9eddd7){var _0x37fa02=function(_0x55bf8b){while(--_0x55bf8b){_0x342ee5["push"](_0x342ee5["shift"]());}};_0x37fa02(++_0x9eddd7);}(a12_0x1558,0x69));var a12_0x2cac=function(_0x2c5e4f,_0x5a5307){_0x2c5e4f=_0x2c5e4f-0x0;var _0x4911bc=a12_0x1558[_0x2c5e4f];return _0x4911bc;};"use strict";/**
 * Module dependencies.
 */var _=require(a12_0x2cac("0x0")),fs=require("fs"),path=require("path"),errorHandler=require(path[a12_0x2cac("0x1")](a12_0x2cac("0x2"))),mongoose=require(a12_0x2cac("0x3")),multer=require("multer"),logger=require(path[a12_0x2cac("0x1")](a12_0x2cac("0x4"))),config=require(path["resolve"](a12_0x2cac("0x5"))),User=mongoose[a12_0x2cac("0x6")]("User");exports[a12_0x2cac("0x7")]=function(_0x224ee2,_0x49c2d3){var _0x4797d8=_0x224ee2[a12_0x2cac("0x8")];delete _0x224ee2[a12_0x2cac("0x9")][a12_0x2cac("0xa")];if(_0x4797d8){_0x4797d8=_["extend"](_0x4797d8,_0x224ee2[a12_0x2cac("0x9")]);_0x4797d8[a12_0x2cac("0xb")]=Date[a12_0x2cac("0xc")]();_0x4797d8[a12_0x2cac("0xd")]=_0x4797d8[a12_0x2cac("0xe")]+"\x20"+_0x4797d8[a12_0x2cac("0xf")];_0x4797d8[a12_0x2cac("0x10")](function(_0x486c05){if(_0x486c05){return _0x49c2d3[a12_0x2cac("0x11")](0x190)[a12_0x2cac("0x12")]({"message":errorHandler[a12_0x2cac("0x13")](_0x486c05)});}else{_0x224ee2[a12_0x2cac("0x14")](_0x4797d8,function(_0x486c05){if(_0x486c05){_0x49c2d3["status"](0x190)[a12_0x2cac("0x12")](_0x486c05);}else{_0x49c2d3[a12_0x2cac("0x15")](_0x4797d8);}});}});}else{_0x49c2d3["status"](0x190)["send"]({"message":a12_0x2cac("0x16")});}};exports[a12_0x2cac("0x17")]=function(_0x322c8f,_0x4de769){var _0x4123ab=_0x322c8f[a12_0x2cac("0x8")];if(_0x4123ab){_0x4123ab[a12_0x2cac("0x18")]=_0x322c8f[a12_0x2cac("0x9")][a12_0x2cac("0x18")];_0x4123ab[a12_0x2cac("0xb")]=Date["now"]();_0x4123ab[a12_0x2cac("0x10")](function(_0x4f11e3){if(_0x4f11e3){logger[a12_0x2cac("0x19")](a12_0x2cac("0x1a"),{"error":_0x4f11e3});_0x4de769[a12_0x2cac("0x12")](0x1f4);}else{logger["silly"](a12_0x2cac("0x1b"));_0x4de769[a12_0x2cac("0x1c")](0xc8);}});}else{_0x4de769[a12_0x2cac("0x1c")](0x193);}};exports[a12_0x2cac("0x1d")]=function(_0x74627b,_0x834f81){var _0x34df2e=_0x74627b["user"];var _0x3cf7fe=null;var _0x1d9ca2=multer(config["uploads"][a12_0x2cac("0x1e")])[a12_0x2cac("0x1f")](a12_0x2cac("0x20"));var _0xd08956=require(path[a12_0x2cac("0x1")](a12_0x2cac("0x21")))["profileUploadFileFilter"];_0x1d9ca2[a12_0x2cac("0x22")]=_0xd08956;if(_0x34df2e){_0x1d9ca2(_0x74627b,_0x834f81,function(_0x5696e5){if(_0x5696e5){return _0x834f81[a12_0x2cac("0x11")](0x190)["send"]({"message":a12_0x2cac("0x23")});}else{_0x34df2e[a12_0x2cac("0x24")]=config[a12_0x2cac("0x25")][a12_0x2cac("0x1e")]["dest"]+_0x74627b[a12_0x2cac("0x26")][a12_0x2cac("0x27")];_0x34df2e[a12_0x2cac("0x10")](function(_0x2f4a8b){if(_0x2f4a8b){return _0x834f81[a12_0x2cac("0x11")](0x190)["send"]({"message":errorHandler[a12_0x2cac("0x13")](_0x2f4a8b)});}else{_0x74627b[a12_0x2cac("0x14")](_0x34df2e,function(_0x59d1c7){if(_0x59d1c7){_0x834f81["status"](0x190)["send"](_0x59d1c7);}else{_0x834f81[a12_0x2cac("0x15")](_0x34df2e);}});}});}});}else{_0x834f81[a12_0x2cac("0x11")](0x190)[a12_0x2cac("0x12")]({"message":a12_0x2cac("0x16")});}};exports[a12_0x2cac("0x28")]=function(){User["find"]()[a12_0x2cac("0x29")]()[a12_0x2cac("0x2a")](function(_0xe7cde9,_0x2e7ea2){if(_0xe7cde9){logger[a12_0x2cac("0x19")](a12_0x2cac("0x2b"));}else if(_0x2e7ea2==0x0){logger[a12_0x2cac("0x2c")]("creating\x20\x20Default\x20User");var _0x7e94e2=new User({"roles":[a12_0x2cac("0x2d")],"firstName":a12_0x2cac("0x2e"),"lastName":"Admin","email":a12_0x2cac("0x2f"),"username":a12_0x2cac("0x2d"),"password":"Winjit@123","provider":a12_0x2cac("0x30"),"displayName":a12_0x2cac("0x31"),"analytics":{"dashboard1":{"name":a12_0x2cac("0x32"),"graphs":{"graphId":[]},"tiles":{"tileId":[]},"tables":{"tableId":[]}},"dashboard2":{"name":a12_0x2cac("0x33"),"graphs":{"graphId":[]},"tiles":{"tileId":[]},"tables":{"tableId":[]}},"dashboard3":{"name":"Dashboard\x203","graphs":{"graphId":[]},"tiles":{"tileId":[]},"tables":{"tableId":[]}}}});_0x7e94e2["save"](function(_0xe7cde9){if(_0xe7cde9){logger["error"](a12_0x2cac("0x34"),{"error":_0xe7cde9});}else{logger[a12_0x2cac("0x2c")](a12_0x2cac("0x35"));}});}});};exports["me"]=function(_0x383408,_0x93d9ae){_0x93d9ae[a12_0x2cac("0x15")](_0x383408["user"]||null);};